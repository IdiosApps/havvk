defmodule Havvk.HttpClient do
  @base_url "localhost://8081"

  def create_repo(params) do
    HTTPoison.post(@base_url <> "/repos", params, headers)
    |> handle_response
  end

  defp handle_response(resp) do
    case resp do
      {:ok, %{body: body, status_code: 200}} ->
        %{id: body.id, name: body.name}
      {:ok, %{body: body, status_code: 422}} ->
        %{status_code: status_code}

    end
  end

  defp headers do
    ...
  end
end
